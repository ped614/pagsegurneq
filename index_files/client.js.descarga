(()=>{var lr,Tt=new Uint8Array(16);function Ir(){if(!lr&&(lr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!lr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lr(Tt)}var _=[];for(let t=0;t<256;++t)_.push((t+256).toString(16).slice(1));function $r(t,r=0){return(_[t[r+0]]+_[t[r+1]]+_[t[r+2]]+_[t[r+3]]+"-"+_[t[r+4]]+_[t[r+5]]+"-"+_[t[r+6]]+_[t[r+7]]+"-"+_[t[r+8]]+_[t[r+9]]+"-"+_[t[r+10]]+_[t[r+11]]+_[t[r+12]]+_[t[r+13]]+_[t[r+14]]+_[t[r+15]]).toLowerCase()}var Rt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Or={randomUUID:Rt};function St(t,r,e){if(Or.randomUUID&&!r&&!t)return Or.randomUUID();t=t||{};let o=t.random||(t.rng||Ir)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,r){e=e||0;for(let a=0;a<16;++a)r[e+a]=o[a];return r}return $r(o)}var M=St;var Nt=function(){return!0},Tr=Nt;function c(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function i(t){return function r(e){return arguments.length===0||c(e)?r:t.apply(this,arguments)}}function n(t){return function r(e,o){switch(arguments.length){case 0:return r;case 1:return c(e)?r:i(function(a){return t(e,a)});default:return c(e)&&c(o)?r:c(e)?i(function(a){return t(a,o)}):c(o)?i(function(a){return t(e,a)}):t(e,o)}}}function v(t,r){switch(t){case 0:return function(){return r.apply(this,arguments)};case 1:return function(e){return r.apply(this,arguments)};case 2:return function(e,o){return r.apply(this,arguments)};case 3:return function(e,o,a){return r.apply(this,arguments)};case 4:return function(e,o,a,u){return r.apply(this,arguments)};case 5:return function(e,o,a,u,f){return r.apply(this,arguments)};case 6:return function(e,o,a,u,f,m){return r.apply(this,arguments)};case 7:return function(e,o,a,u,f,m,g){return r.apply(this,arguments)};case 8:return function(e,o,a,u,f,m,g,S){return r.apply(this,arguments)};case 9:return function(e,o,a,u,f,m,g,S,Ot){return r.apply(this,arguments)};case 10:return function(e,o,a,u,f,m,g,S,Ot,Mo){return r.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function C(t,r,e){return function(){for(var o=[],a=0,u=t,f=0;f<r.length||a<arguments.length;){var m;f<r.length&&(!c(r[f])||a>=arguments.length)?m=r[f]:(m=arguments[a],a+=1),o[f]=m,c(m)||(u-=1),f+=1}return u<=0?e.apply(this,o):v(u,C(t,o,e))}}var bt=n(function(r,e){return r===1?i(e):v(r,C(r,[],e))}),d=bt;function p(t){return function r(e,o,a){switch(arguments.length){case 0:return r;case 1:return c(e)?r:n(function(u,f){return t(e,u,f)});case 2:return c(e)&&c(o)?r:c(e)?n(function(u,f){return t(u,o,f)}):c(o)?n(function(u,f){return t(e,u,f)}):i(function(u){return t(e,o,u)});default:return c(e)&&c(o)&&c(a)?r:c(e)&&c(o)?n(function(u,f){return t(u,f,a)}):c(e)&&c(a)?n(function(u,f){return t(u,o,f)}):c(o)&&c(a)?n(function(u,f){return t(e,u,f)}):c(e)?i(function(u){return t(u,o,a)}):c(o)?i(function(u){return t(e,u,a)}):c(a)?i(function(u){return t(e,o,u)}):t(e,o,a)}}}var y=Array.isArray||function(r){return r!=null&&r.length>=0&&Object.prototype.toString.call(r)==="[object Array]"};function rr(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function s(t,r,e){return function(){if(arguments.length===0)return e();var o=arguments[arguments.length-1];if(!y(o)){for(var a=0;a<t.length;){if(typeof o[t[a]]=="function")return o[t[a]].apply(o,Array.prototype.slice.call(arguments,0,-1));a+=1}if(rr(o)){var u=r.apply(null,Array.prototype.slice.call(arguments,0,-1));return u(o)}}return e.apply(this,arguments)}}function b(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var l={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function dr(t){for(var r=[],e;!(e=t.next()).done;)r.push(e.value);return r}function j(t,r,e){for(var o=0,a=e.length;o<a;){if(t(r,e[o]))return!0;o+=1}return!1}function Rr(t){var r=String(t).match(/^function (\w*)/);return r==null?"":r[1]}function h(t,r){return Object.prototype.hasOwnProperty.call(r,t)}function Pt(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}var tr=typeof Object.is=="function"?Object.is:Pt;var rt=Object.prototype.toString,Wt=function(){return rt.call(arguments)==="[object Arguments]"?function(r){return rt.call(r)==="[object Arguments]"}:function(r){return h("callee",r)}}(),Sr=Wt;var Bt=!{toString:null}.propertyIsEnumerable("toString"),tt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],et=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),kt=function(r,e){for(var o=0;o<r.length;){if(r[o]===e)return!0;o+=1}return!1},Dt=typeof Object.keys=="function"&&!et?i(function(r){return Object(r)!==r?[]:Object.keys(r)}):i(function(r){if(Object(r)!==r)return[];var e,o,a=[],u=et&&Sr(r);for(e in r)h(e,r)&&(!u||e!=="length")&&(a[a.length]=e);if(Bt)for(o=tt.length-1;o>=0;)e=tt[o],h(e,r)&&!kt(a,e)&&(a[a.length]=e),o-=1;return a}),x=Dt;var Lt=i(function(r){return r===null?"Null":r===void 0?"Undefined":Object.prototype.toString.call(r).slice(8,-1)}),er=Lt;function ot(t,r,e,o){var a=dr(t),u=dr(r);function f(m,g){return or(m,g,e.slice(),o.slice())}return!j(function(m,g){return!j(f,g,m)},u,a)}function or(t,r,e,o){if(tr(t,r))return!0;var a=er(t);if(a!==er(r))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof r["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](r)&&typeof r["fantasy-land/equals"]=="function"&&r["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof r.equals=="function")return typeof t.equals=="function"&&t.equals(r)&&typeof r.equals=="function"&&r.equals(t);switch(a){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&Rr(t.constructor)==="Promise")return t===r;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof r&&tr(t.valueOf(),r.valueOf())))return!1;break;case"Date":if(!tr(t.valueOf(),r.valueOf()))return!1;break;case"Error":return t.name===r.name&&t.message===r.message;case"RegExp":if(!(t.source===r.source&&t.global===r.global&&t.ignoreCase===r.ignoreCase&&t.multiline===r.multiline&&t.sticky===r.sticky&&t.unicode===r.unicode))return!1;break}for(var u=e.length-1;u>=0;){if(e[u]===t)return o[u]===r;u-=1}switch(a){case"Map":return t.size!==r.size?!1:ot(t.entries(),r.entries(),e.concat([t]),o.concat([r]));case"Set":return t.size!==r.size?!1:ot(t.values(),r.values(),e.concat([t]),o.concat([r]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var f=x(t);if(f.length!==x(r).length)return!1;var m=e.concat([t]),g=o.concat([r]);for(u=f.length-1;u>=0;){var S=f[u];if(!(h(S,r)&&or(r[S],t[S],m,g)))return!1;u-=1}return!0}var Ut=n(function(r,e){return or(r,e,[],[])}),w=Ut;function hr(t,r,e){var o,a;if(typeof t.indexOf=="function")switch(typeof r){case"number":if(r===0){for(o=1/r;e<t.length;){if(a=t[e],a===0&&1/a===o)return e;e+=1}return-1}else if(r!==r){for(;e<t.length;){if(a=t[e],typeof a=="number"&&a!==a)return e;e+=1}return-1}return t.indexOf(r,e);case"string":case"boolean":case"function":case"undefined":return t.indexOf(r,e);case"object":if(r===null)return t.indexOf(r,e)}for(;e<t.length;){if(w(t[e],r))return e;e+=1}return-1}function nr(t,r){return hr(r,t,0)>=0}function P(t,r){for(var e=0,o=r.length,a=Array(o);e<o;)a[e]=t(r[e]),e+=1;return a}function ar(t){var r=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+r.replace(/"/g,'\\"')+'"'}var ur=function(r){return(r<10?"0":"")+r},Ct=typeof Date.prototype.toISOString=="function"?function(r){return r.toISOString()}:function(r){return r.getUTCFullYear()+"-"+ur(r.getUTCMonth()+1)+"-"+ur(r.getUTCDate())+"T"+ur(r.getUTCHours())+":"+ur(r.getUTCMinutes())+":"+ur(r.getUTCSeconds())+"."+(r.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},nt=Ct;function yr(t){return function(){return!t.apply(this,arguments)}}function q(t,r,e){for(var o=0,a=e.length;o<a;)r=t(r,e[o]),o+=1;return r}function ir(t,r){for(var e=0,o=r.length,a=[];e<o;)t(r[e])&&(a[a.length]=r[e]),e+=1;return a}function X(t){return Object.prototype.toString.call(t)==="[object Object]"}var jt=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=l.init,t.prototype["@@transducer/result"]=l.result,t.prototype["@@transducer/step"]=function(r,e){return this.f(e)?this.xf["@@transducer/step"](r,e):r},t}();function Nr(t){return function(r){return new jt(t,r)}}var qt=n(s(["fantasy-land/filter","filter"],Nr,function(t,r){return X(r)?q(function(e,o){return t(r[o])&&(e[o]=r[o]),e},{},x(r)):ir(t,r)})),J=qt;var Ht=n(function(r,e){return J(yr(r),e)}),fr=Ht;function pr(t,r){var e=function(f){var m=r.concat([t]);return nr(f,m)?"<Circular>":pr(f,m)},o=function(u,f){return P(function(m){return ar(m)+": "+e(u[m])},f.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+P(e,t).join(", ")+"))";case"[object Array]":return"["+P(e,t).concat(o(t,fr(function(u){return/^\d+$/.test(u)},x(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+e(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?e(NaN):ar(nt(t)))+")";case"[object Map]":return"new Map("+e(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+e(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+e(Array.from(t).sort())+")";case"[object String]":return typeof t=="object"?"new String("+e(t.valueOf())+")":ar(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var a=t.toString();if(a!=="[object Object]")return a}return"{"+o(t,x(t)).join(", ")+"}"}}var Gt=i(function(r){return pr(r,[])}),D=Gt;var Ft=n(function(r,e){if(r===e)return e;function o(g,S){if(g>S!=S>g)return S>g?S:g}var a=o(r,e);if(a!==void 0)return a;var u=o(typeof r,typeof e);if(u!==void 0)return u===typeof r?r:e;var f=D(r),m=o(f,D(e));return m!==void 0&&m===f?r:e}),L=Ft;var Mt=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=l.init,t.prototype["@@transducer/result"]=l.result,t.prototype["@@transducer/step"]=function(r,e){return this.xf["@@transducer/step"](r,this.f(e))},t}(),Xt=function(r){return function(e){return new Mt(r,e)}},br=Xt;var Vt=n(s(["fantasy-land/map","map"],br,function(r,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return d(e.length,function(){return r.call(this,e.apply(this,arguments))});case"[object Object]":return q(function(o,a){return o[a]=r(e[a]),o},{},x(e));default:return P(r,e)}})),A=Vt;var W=Number.isInteger||function(r){return r<<0===r};function U(t){return Object.prototype.toString.call(t)==="[object String]"}var Kt=n(function(r,e){var o=r<0?e.length+r:r;return U(e)?e.charAt(o):e[o]}),B=Kt;var zt=n(function(r,e){if(e!=null)return W(r)?B(r,e):e[r]}),I=zt;var Yt=n(function(r,e){return A(I(r),e)}),Q=Yt;var Jt=i(function(r){return y(r)?!0:!r||typeof r!="object"||U(r)?!1:r.length===0?!0:r.length>0?r.hasOwnProperty(0)&&r.hasOwnProperty(r.length-1):!1}),mr=Jt;var at=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function _r(t,r,e){return function(a,u,f){if(mr(f))return t(a,u,f);if(f==null)return u;if(typeof f["fantasy-land/reduce"]=="function")return r(a,u,f,"fantasy-land/reduce");if(f[at]!=null)return e(a,u,f[at]());if(typeof f.next=="function")return e(a,u,f);if(typeof f.reduce=="function")return r(a,u,f,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function xr(t,r,e){for(var o=0,a=e.length;o<a;){if(r=t["@@transducer/step"](r,e[o]),r&&r["@@transducer/reduced"]){r=r["@@transducer/value"];break}o+=1}return t["@@transducer/result"](r)}var Qt=n(function(r,e){return v(r.length,function(){return r.apply(e,arguments)})}),Pr=Qt;function Zt(t,r,e){for(var o=e.next();!o.done;){if(r=t["@@transducer/step"](r,o.value),r&&r["@@transducer/reduced"]){r=r["@@transducer/value"];break}o=e.next()}return t["@@transducer/result"](r)}function $t(t,r,e,o){return t["@@transducer/result"](e[o](Pr(t["@@transducer/step"],t),r))}var re=_r(xr,$t,Zt),H=re;var te=function(){function t(r){this.f=r}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(r){return r},t.prototype["@@transducer/step"]=function(r,e){return this.f(r,e)},t}();function Z(t){return new te(t)}var ee=p(function(t,r,e){return H(typeof t=="function"?Z(t):t,r,e)}),T=ee;var oe=i(function(r){return d(T(L,0,Q("length",r)),function(){for(var e=0,o=r.length;e<o;){if(!r[e].apply(this,arguments))return!1;e+=1}return!0})}),vr=oe;var ue=i(function(r){return r==null}),G=ue;function V(t){var r=Object.prototype.toString.call(t);return r==="[object Function]"||r==="[object AsyncFunction]"||r==="[object GeneratorFunction]"||r==="[object AsyncGeneratorFunction]"}function Dr(t,r){return function(){return r.call(this,t.apply(this,arguments))}}function F(t,r){return function(){var e=arguments.length;if(e===0)return r();var o=arguments[e-1];return y(o)||typeof o[t]!="function"?r.apply(this,arguments):o[t].apply(o,Array.prototype.slice.call(arguments,0,e-1))}}var se=p(F("slice",function(r,e,o){return Array.prototype.slice.call(o,r,e)})),R=se;var le=i(F("tail",R(1,1/0))),gr=le;function K(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return v(arguments[0].length,T(Dr,arguments[0],gr(arguments)))}var de=B(0),wr=de;var ye=i(function(r){var e=T(L,0,A(function(o){return o[0].length},r));return v(e,function(){for(var o=0;o<r.length;){if(r[o][0].apply(this,arguments))return r[o][1].apply(this,arguments);o+=1}})}),Cr=ye;var xe=n(function(r,e){return e==null||e!==e?r:e}),z=xe;var Te=function(){function t(r,e){this.xf=e,this.f=r,this.found=!1}return t.prototype["@@transducer/init"]=l.init,t.prototype["@@transducer/result"]=function(r){return this.found||(r=this.xf["@@transducer/step"](r,void 0)),this.xf["@@transducer/result"](r)},t.prototype["@@transducer/step"]=function(r,e){return this.f(e)&&(this.found=!0,r=b(this.xf["@@transducer/step"](r,e))),r},t}();function Hr(t){return function(r){return new Te(t,r)}}var Re=n(s(["find"],Hr,function(r,e){for(var o=0,a=e.length;o<a;){if(r(e[o]))return e[o];o+=1}})),Er=Re;var Se=n(function(r,e){if(r.length===0||G(e))return!1;for(var o=e,a=0;a<r.length;)if(!G(o)&&h(r[a],o))o=o[r[a]],a+=1;else return!1;return!0}),cr=Se;var Pe=n(function(r,e){return d(r+1,function(){var o=arguments[r];if(o!=null&&V(o[e]))return o[e].apply(o,Array.prototype.slice.call(arguments,0,r));throw new TypeError(D(o)+' does not have a method named "'+e+'"')})}),$=Pe;var Be=i(function(r){return!G(r)}),sr=Be;var Ce=n(function(r,e){return r.map(function(o){for(var a=e,u=0,f;u<o.length;){if(a==null)return;f=o[u],a=W(f)?B(f,a):a[f],u+=1}return a})}),Xr=Ce;var je=n(function(r,e){return Xr([r],e)[0]}),k=je;var Je=n(function(r,e){for(var o={},a=0;a<r.length;)r[a]in e&&(o[r[a]]=e[r[a]]),a+=1;return o}),Y=Je;var to=p(function(r,e,o){return w(r,I(e,o))}),E=to;var co=$(0,"toLowerCase"),Kr=co;var o0=typeof String.prototype.trim=="function";var O=(t,r,e=10,o=300,a=0)=>new Promise((u,f)=>{let m=Er(r,t);if(m)return u(m);if(a>=e)return f(new Error(`Event for ${r} not found.`));setTimeout(()=>O(t,r,e,o,a+1).then(u).catch(f),o)});var vo=()=>{let t="pers_session_id",r=sessionStorage.getItem(t);if(r)return r;let e=M();return sessionStorage.setItem(t,M()),e},go=vo();async function wo(t){try{let{user:{id:r,status:e}}=await O(t,E("user","event"));return{id:r,status:e}}catch{return{id:null,status:null}}}async function Ao(t){try{let{ab_test_1:{group:r,number:e}}=await O(t,E("ab_test_1","event"),2);return{group:r,number:e}}catch{return{group:null,number:null}}}async function Eo(t){try{let{device:{ip:r,sid:e,type:o}}=await O(t,E("device","event"),2);return{ip:r,sid:e,type:o}}catch{return{ip:null,type:null,sid:null}}}async function Io(t){try{let{platform:{environment:r,currency:e,language:o,sales_unit:a,type:u}}=await O(t,E("platform","event"),2);return{environment:r,currency:e,language:o,sales_unit:a,type:u}}catch{return{environment:null,currency:null,language:null,sales_unit:null,type:null}}}var Oo=()=>{let t=document.querySelector("main[data-product-code] script[type='application/ld+json']");if(t){let r=t.textContent||"{}",e=JSON.parse(r);return{master_product_code:I("sku",e)}}return{master_product_code:null}},To=()=>{let{value:t}=z({},document.querySelector("main[data-product-code] input[name='productId']"));return t},Ro=()=>{let{dataset:t}=z({},document.querySelector("[data-product-code]")),{productCode:r,category:e}=z({},t);return{product_code:r,category:e}},So=()=>{let t=window.location.pathname;try{let r=To(),{master_product_code:e}=Oo(),{product_code:o,category:a}=Ro();return{product_id:r,product_code:o,category:a,path:t,master_product_code:e}}catch{return{product_code:null,category:null,path:t,master_product_code:null}}};function No(t){switch(!0){case t=="product":return So();default:return{path:window.location.pathname}}}function bo(){return Y(["hostname","pathname","search"],window.location)}function Po(){return navigator.language||navigator.userLanguage}var zr=async(t,r,e,o)=>({version:o,timestamp:Date.now(),device:await Eo(t),platform:await Io(t),user:{abtest:await Ao(t),locale:Po(),...await wo(t)},page_session_id:e,session_id:go,location:bo(),related_to:No(r)});var vt=(t,r)=>{let e=t.length;return r<e?[t.slice(r,e),e]:[[],e]},gt=(t,r,e=1e3)=>{let[o,a]=vt(t(),0);o.length>0&&r(o),setInterval(()=>{let[u,f]=vt(t(),a);u.length>0&&r(u),a=f},e)};var At="error";var Yr="https://collector-es.notino.luigisbox.com/events";var Jr=(t=[])=>{t.length!=0&&(At=="debug"&&console.log("pushEvents",t),Yr&&Wo(Yr,{events:t}))},Wo=(t,r)=>{fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})};var Qr=()=>window.dataLayer||[],Zr=M();async function Bo(t){try{let{products:r,variant_selector:e}=await O(t,E("view_item","event")),{page:{title:o,unified_name:a}}=await O(t,E("page_view","event"));return{products:r,variant_selector:e,title:o,unified_name:a}}catch{return{products:null,variant_selector:null,title:document.title,unified_name:null}}}async function ko(t){try{let{page:{title:r,unified_name:e}}=await O(t,E("page_view","event"));return{title:r,unified_name:e}}catch{return{title:document.title,unified_name:null}}}async function Do(t){try{let{checkout:r}=await O(t,E("view_cart","event"));return{...r}}catch{return{checkout:null}}}async function Lo(t){try{let{page:r}=await O(t,E("page_view","event"));return{...r}}catch{return{page:null}}}async function Uo(t){try{let{purchase:r}=await O(t,E("purchase","event"));return{...r}}catch{return{purchase:null}}}var Et=t=>{let r=Cr([[vr([E("ga.PageView","event")]),k(["page","type"])],[cr(["page","type"]),K(k(["page","type"]),Kr)],[Tr,()=>null]]);return K(A(r),J(sr),wr)(t)},It=t=>{switch(!0){case t==null:return"unknown";case(t&&t.includes("order")):return"checkout";case(t&&t=="thankyou"):return"purchase";default:return t}},Co=t=>{switch(t){case"cart":case"checkout":case"purchase":return"3";default:return"2.0"}},jo=async(t,r)=>{switch(r){case"product":return await Bo(t);case"category":case"brand":case"wishlist":return await ko(t);case"cart":return await Do(t);case"checkout":return await Lo(t);case"purchase":return await Uo(t);case"livestream":default:return{}}},qo=async t=>{let r=Qr(),e=Et(r),o=It(e);if(o=="product")return;let a=Co(o),u=await jo(r,o),f=await zr(r,o,Zr,a),m={type:`pageview.${o}`,data:u,metadata:f};t([m])};try{qo(Jr)}catch(t){console.error("pushPageView function failed: ",t)}var Ho=t=>async(r={})=>{let{event:e}=r,o="2.0";switch(e){case"view_item":{Zr=M();let{products:a}=r;return{type:"pageview.product",data:{products:a},metadata:await t(o)}}case"remove_from_wishlist":case"add_to_wishlist":{let{products:a,interaction:u,type:f}=I("wishlist",r);return{type:`action.${e}`,data:{products:a,interaction:u,where:f},metadata:await t(o)}}case"add_to_cart":{let{product:a}=r;return{type:`action.${e}`,data:{product:a},metadata:await t(o)}}case"element_click":{let{element:a}=r;return{type:`action.${e}`,data:Y(["interaction","name","type","promo_labels","action"],a),metadata:await t(o)}}case"subpage_view":{let{subpage:a}=r;return{type:`action.${e}`,data:Y(["interaction","name","type","action"],a),metadata:await t(o)}}case"review_list_view":return{type:`action.${e}`,data:{},metadata:await t(o)};case"view_item_list":{let{product_lists:a={}}=r,u=a.products||[];return{type:`action.${e}`,data:{list_name:a.list_name,interaction:a.interaction,sorting_type:a.sorting_type,products:u.map(({product_code:f,price:m})=>({product_code:f,price:m}))},metadata:await t(o)}}case"select_item":{let{product:a}=r,u=a||[];return{type:`action.${e}`,data:{products:u.map(({product_code:f,price:m})=>({product_code:f,price:m}))},metadata:await t(o)}}default:return null}},Go=async t=>{let r=Qr(),e=Et(r),o=It(e);return await zr(r,o,Zr,t)},Fo=t=>{gt(Qr,async(r=[])=>{let e=await Promise.all(r.map(Ho(Go)));t(e.filter(sr))},300)};try{Fo(Jr)}catch(t){console.error("subscribeAndPushEvents function failed: ",t)}})();
